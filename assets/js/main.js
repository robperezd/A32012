const lightbox=document.querySelector('.lightbox');const lightImg=document.querySelector('#light-img');let scale=1,isDown=false,startX=0,startY=0,posX=0,posY=0;function openLightbox(src){scale=1;posX=0;posY=0;updateTransform();lightImg.src=src;lightbox.classList.add('open')}function closeLightbox(){lightbox.classList.remove('open')}function updateTransform(){lightImg.style.transform=`translate(${posX}px, ${posY}px) scale(${scale})`;lightImg.style.cursor=scale>1?'grab':'default'}document.querySelectorAll('.grid img').forEach(img=>{img.addEventListener('click',()=>openLightbox(img.dataset.full||img.src))});document.querySelector('.lightbox .close').addEventListener('click',closeLightbox);lightbox.addEventListener('click',(e)=>{if(e.target===lightbox)closeLightbox()});lightImg.addEventListener('wheel',(e)=>{e.preventDefault();const delta=Math.sign(e.deltaY);const target=scale-delta*0.2;scale=Math.min(3,Math.max(1,target));updateTransform()});lightImg.addEventListener('mousedown',(e)=>{if(scale>1){isDown=true;startX=e.clientX-posX;startY=e.clientY-posY;lightImg.style.cursor='grabbing'}});window.addEventListener('mouseup',()=>{isDown=false;lightImg.style.cursor='grab'});window.addEventListener('mousemove',(e)=>{if(isDown){posX=e.clientX-startX;posY=e.clientY-startY;updateTransform()}});const form=document.querySelector('#contact-form');form.addEventListener('submit',(e)=>{e.preventDefault();const nombre=form.nombre.value.trim();const email=form.email.value.trim();const mensaje=form.mensaje.value.trim();if(!nombre||!email){alert('Por favor, escribe tu nombre y correo.');return}const subject=encodeURIComponent('Interesado en Audi A3 Sportback');const body=encodeURIComponent(`Nombre: ${nombre}
Correo: ${email}
Mensaje: ${mensaje}`);window.location.href=`mailto:robperezd@gmail.com?subject=${subject}&body=${body}`});const waBtn=document.querySelector('#wa-btn');waBtn.addEventListener('click',()=>{const url='https://wa.me/525518525850?text='+encodeURIComponent('Hola Roberto, me interesa tu Audi A3. Â¿Podemos agendar una visita?');window.open(url,'_blank')});